<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Apr 06 22:51:34 PDT 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ProxyBranch (SIP Servlet API 2.0 API)</title>
<meta name="date" content="2015-04-06">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ProxyBranch (SIP Servlet API 2.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ProxyBranch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javax/servlet/sip/Proxy.html" title="interface in javax.servlet.sip"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javax/servlet/sip/ProxyBranch.Callback.html" title="interface in javax.servlet.sip"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javax/servlet/sip/ProxyBranch.html" target="_top">Frames</a></li>
<li><a href="ProxyBranch.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">javax.servlet.sip</div>
<h2 title="Interface ProxyBranch" class="title">Interface ProxyBranch</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">ProxyBranch</span></pre>
<div class="block">A <code>ProxyBranch</code> represents a branch which the Proxy sends out the
 request on. The <code>ProxyBranch</code> object models the branch as used in 
 RFC3261 while describing a stateful proxy.

 For example,
 <pre>
   public void doInvite(SipServletRequest req) {
     ...
     Proxy p = req.getProxy();
     p.setRecordRoute(true);
     List<ProxyBranch> branches = p.createProxyBranches(getTargets(req));
     branches.get(0).setProxyBranchTimeout(5);
     branches.get(1).setProxyBranchTimeout(10);
     p.startProxy();
     ...
   }
 </pre></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.Callback.html" title="interface in javax.servlet.sip">ProxyBranch.Callback</a></strong></code>
<div class="block">Application may use an implementation of this interface to be called back by
 the container.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#cancel()">cancel</a></strong>()</code>
<div class="block">Cancels this branch and all the child branches if recursion is enabled and 
 sends a CANCEL to the proxied INVITEs.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#cancel(java.lang.String[], int[], java.lang.String[])">cancel</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;protocol,
      int[]&nbsp;reasonCode,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;reasonText)</code>
<div class="block">This overloaded method of <a href="../../../javax/servlet/sip/ProxyBranch.html#cancel()"><code>cancel()</code></a> provides a way to specify the
 reason for cancelling this branch by including the appropriate Reason headers [RFC 3326].</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getAddToPath()">getAddToPath</a></strong>()</code>
<div class="block">Returns true if subsequent invocations of
 <a href="../../../javax/servlet/sip/Proxy.html#startProxy()"><code>startProxy()</code></a> will add a Path header
 to the proxied request, false otherwise.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip">Flow</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getFlow()">getFlow</a></strong>()</code>
<div class="block">Returns the flow used for sending or receiving messages
 on this <code>ProxyBranch</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getPathURI()">getPathURI</a></strong>()</code>
<div class="block">Returns a <code>SipURI</code> that the application can use to
 add parameters to the Path header.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/Proxy.html" title="interface in javax.servlet.sip">Proxy</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getProxy()">getProxy</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getProxyBranchTimeout()">getProxyBranchTimeout</a></strong>()</code>
<div class="block">Returns the current value of the search timeout associated
 with this <code>ProxyBranch</code> object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getRecordRoute()">getRecordRoute</a></strong>()</code>
<div class="block">Returns true if subsequent invocations of <a href="../../../javax/servlet/sip/Proxy.html#startProxy()"><code>proxyTo(URI)</code></a>
 will add a Record-Route header to the proxied request, false otherwise.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getRecordRouteURI()">getRecordRouteURI</a></strong>()</code>
<div class="block">Returns a <code>SipURI</code> that the application can use to
 add parameters to the Record-Route header.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getRecurse()">getRecurse</a></strong>()</code>
<div class="block">Returns true if this proxy branch object is set to recurse, or false otherwise.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getRecursedProxyBranches()">getRecursedProxyBranches</a></strong>()</code>
<div class="block">Receipt of a 3xx class redirect response on a branch can result in recursed branches
 if the proxy or the branch has recursion enabled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/SipServletRequest.html" title="interface in javax.servlet.sip">SipServletRequest</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getRequest()">getRequest</a></strong>()</code>
<div class="block">Returns the request associated with this branch.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/SipServletResponse.html" title="interface in javax.servlet.sip">SipServletResponse</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#getResponse()">getResponse</a></strong>()</code>
<div class="block">Returns the <em>last</em> response received on this branch.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#isStarted()">isStarted</a></strong>()</code>
<div class="block">The branch can be created using <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>Proxy.createProxyBranches(java.util.List)</code></a> and may be
 started at a later time by using <a href="../../../javax/servlet/sip/Proxy.html#startProxy()"><code>Proxy.startProxy()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#setAddToPath(boolean)">setAddToPath</a></strong>(boolean&nbsp;p)</code>
<div class="block">Specifies whether this branch should
 include a Path header for the REGISTER request for this servlet
 container or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#setFlow(javax.servlet.sip.Flow)">setFlow</a></strong>(<a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip">Flow</a>&nbsp;flow)</code>
<div class="block">Indicate that the specified flow be used while sending messages on this
 <code>ProxyBranch</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#setOutboundInterface(java.net.InetAddress)">setOutboundInterface</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;address)</code>
<div class="block">In multi-homed environment this method can be used to select
 the outbound interface to use when sending requests for this
 proxy branch.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#setOutboundInterface(java.net.InetSocketAddress)">setOutboundInterface</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;address)</code>
<div class="block">In multi-homed environment this method can be used to select
 the outbound interface and source port number when forwarding requests
 for this proxy branch.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#setProxyBranchTimeout(int)">setProxyBranchTimeout</a></strong>(int&nbsp;seconds)</code>
<div class="block">Sets the search timeout value for this
 <code>ProxyBranch</code> object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#setRecordRoute(boolean)">setRecordRoute</a></strong>(boolean&nbsp;rr)</code>
<div class="block">Specifies whether this branch should
 include a Record-Route header for this servlet engine or not.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/ProxyBranch.html#setRecurse(boolean)">setRecurse</a></strong>(boolean&nbsp;recurse)</code>
<div class="block">Specifies whether the servlet engine will automatically recurse or not.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getRequest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequest</h4>
<pre><a href="../../../javax/servlet/sip/SipServletRequest.html" title="interface in javax.servlet.sip">SipServletRequest</a>&nbsp;getRequest()</pre>
<div class="block">Returns the request associated with this branch.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>object representing the request that is or to be proxied.</dd></dl>
</li>
</ul>
<a name="cancel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>void&nbsp;cancel()</pre>
<div class="block">Cancels this branch and all the child branches if recursion is enabled and 
 sends a CANCEL to the proxied INVITEs.
 
 The effect is similar to <a href="../../../javax/servlet/sip/Proxy.html#cancel()"><code>Proxy.cancel()</code></a> except that it is 
 limited to this branch and its children only.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the transaction has already been completed and it has no
         child branches</dd></dl>
</li>
</ul>
<a name="cancel(java.lang.String[], int[], java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>void&nbsp;cancel(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;protocol,
          int[]&nbsp;reasonCode,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;reasonText)</pre>
<div class="block">This overloaded method of <a href="../../../javax/servlet/sip/ProxyBranch.html#cancel()"><code>cancel()</code></a> provides a way to specify the
 reason for cancelling this branch by including the appropriate Reason headers [RFC 3326].</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>protocol</code> - describes the source of the 'cause' field in the Reason header field.</dd><dd><code>reasonCode</code> - corresponds to the 'cause' field. For eg, if protocol is SIP, the reasonCode
 would be the status code of the response which caused the cancel</dd><dd><code>reasonText</code> - describes the reason for cancelling the <code>Proxy</code>.</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="getProxyBranchTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProxyBranchTimeout</h4>
<pre>int&nbsp;getProxyBranchTimeout()</pre>
<div class="block">Returns the current value of the search timeout associated
 with this <code>ProxyBranch</code> object. If this value is 
 not explicitly set using the <a href="../../../javax/servlet/sip/ProxyBranch.html#setProxyBranchTimeout(int)"><code>setProxyBranchTimeout(int)</code></a> then
 the value is inherited from the <code>Proxy</code> setting.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the search timeout value in seconds</dd></dl>
</li>
</ul>
<a name="setProxyBranchTimeout(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setProxyBranchTimeout</h4>
<pre>void&nbsp;setProxyBranchTimeout(int&nbsp;seconds)</pre>
<div class="block">Sets the search timeout value for this
 <code>ProxyBranch</code> object. 
 
 This is the amount of time the container waits for a final response 
 when proxying on this branch. This method can be used to 
 override the default timeout the branch obtains from the <a href="../../../javax/servlet/sip/Proxy.html#setProxyTimeout(int)"><code>Proxy.setProxyTimeout(int)</code></a>
 object. When the timer expires the container CANCELs this branch and
 proxies to the next element in the target set in case the proxy is a sequential proxy.
 In case the proxy is a parallel proxy then this can only set the timeout value of this
 branch to a value lower than the value in the proxy <a href="../../../javax/servlet/sip/Proxy.html#getProxyTimeout()"><code>Proxy.getProxyTimeout()</code></a>. The 
 effect of expiry of this timeout in case of parallel proxy is just to cancel this 
 branch as if an explicit call to <a href="../../../javax/servlet/sip/ProxyBranch.html#cancel()"><code>cancel()</code></a> has been made.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>seconds</code> - new search timeout in seconds</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if this value cannot be set by the container. Either it is too high, too low, negative or 
                                  greater than the overall proxy timeout value in parallel case.</dd></dl>
</li>
</ul>
<a name="getRecurse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecurse</h4>
<pre>boolean&nbsp;getRecurse()</pre>
<div class="block">Returns true if this proxy branch object is set to recurse, or false otherwise.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if recursing is enabled, false otherwise</dd></dl>
</li>
</ul>
<a name="setRecurse(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRecurse</h4>
<pre>void&nbsp;setRecurse(boolean&nbsp;recurse)</pre>
<div class="block">Specifies whether the servlet engine will automatically recurse or not.
 If recursion is enabled the servlet engine will automatically attempt
 to proxy to contact addresses received in redirect (3xx) responses.
 If recursion is disabled and no better response is received, a redirect
 response will be passed to the application and will be passed upstream
 towards the client.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>recurse</code> - if true enables recursion, otherwise disables it</dd></dl>
</li>
</ul>
<a name="getRecordRoute()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordRoute</h4>
<pre>boolean&nbsp;getRecordRoute()</pre>
<div class="block">Returns true if subsequent invocations of <a href="../../../javax/servlet/sip/Proxy.html#startProxy()"><code>proxyTo(URI)</code></a>
 will add a Record-Route header to the proxied request, false otherwise.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>value of the "recordroute" flag</dd></dl>
</li>
</ul>
<a name="setRecordRoute(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRecordRoute</h4>
<pre>void&nbsp;setRecordRoute(boolean&nbsp;rr)</pre>
<div class="block">Specifies whether this branch should
 include a Record-Route header for this servlet engine or not.
 <p/>
 <p>Record-routing is used to specify that this servlet engine must
 stay on the signaling path of subsequent requests.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rr</code> - if true the engine will record-route, otherwise it won't</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the proxy has already been started</dd></dl>
</li>
</ul>
<a name="getAddToPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddToPath</h4>
<pre>boolean&nbsp;getAddToPath()</pre>
<div class="block">Returns true if subsequent invocations of
 <a href="../../../javax/servlet/sip/Proxy.html#startProxy()"><code>startProxy()</code></a> will add a Path header
 to the proxied request, false otherwise.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>value of the "addToPath" flag</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="setAddToPath(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAddToPath</h4>
<pre>void&nbsp;setAddToPath(boolean&nbsp;p)</pre>
<div class="block">Specifies whether this branch should
 include a Path header for the REGISTER request for this servlet
 container or not.

 <p>Path header is used to specify that this Proxy must
 stay on the signaling path of subsequent requests sent to the
 Registered UA from the Home Proxy in the network. As a best practice,
 before calling this method a proxy should check if the UA has indicated
 support for the Path extension by checking the Supported header field
 value in the request being proxied. The detailed procedure of Path header
 handling is defined in RFC 3327.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - if true the container will add Path header</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="getRecordRouteURI()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordRouteURI</h4>
<pre><a href="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</a>&nbsp;getRecordRouteURI()</pre>
<div class="block">Returns a <code>SipURI</code> that the application can use to
 add parameters to the Record-Route header. This is used by
 record-routing proxy applications in order to push state to the
 endpoints and have it returned in subsequent requests belonging
 to the same dialog.
 
 <p>Parameters added through a URI returned by this method can
 be retrieved from a subsequent request in the same dialog by
 calling <code>ServletRequest.getParameter(java.lang.String)</code>.
 
 <p>Note that the URI returned is good <em>only</em> for
 specifying a set of parameters that the application can
 retrieve when invoked to handle subsequent requests in the same
 dialog. Other components of the URI are irrelevant and cannot
 be trusted to reflect the actual values that the container will
 be using when inserting a Record-Route header into proxied
 request.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>SIP URI whose parameters can be modified and then retrieved
     by this application when processing subsequent requests in the
     same SIP dialog</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if record-routing is not enabled</dd></dl>
</li>
</ul>
<a name="getPathURI()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPathURI</h4>
<pre><a href="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</a>&nbsp;getPathURI()</pre>
<div class="block">Returns a <code>SipURI</code> that the application can use to
 add parameters to the Path header. This may be used by
 Path header adding proxy applications in order to push state to the
 Registrar and have it returned in subsequent requests for the
 registered UA.

 <p>Parameters added through a URI returned by this method can
 be retrieved from a subsequent request in the same dialog by
 calling <code>ServletRequest.getParameter(java.lang.String)</code>.

 <p>Note that the URI returned is good <em>only</em> for
 specifying a set of parameters that the application can
 retrieve when invoked to handle subsequent requests
 Other components of the URI are irrelevant and cannot
 be trusted to reflect the actual values that the container will
 be using when inserting a Path header into proxied
 request.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>SIP URI whose parameters can be modified and then retrieved
     by this application when processing subsequent requests for the
     UA</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if addToPath is not enabled</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="setOutboundInterface(java.net.InetSocketAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOutboundInterface</h4>
<pre>void&nbsp;setOutboundInterface(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;address)</pre>
<div class="block">In multi-homed environment this method can be used to select
 the outbound interface and source port number when forwarding requests
 for this proxy branch.
 The specified address must be the address of one of the configured
 outbound interfaces. The set of SipURI objects which represent the
 supported outbound interfaces can be obtained from the servlet context
 attributes named <code>javax.servlet.sip.outboundAddresses</code> and
 <code>javax.servlet.sip.outboundInterfaces</code>.
 <p>The port is interpreted as an advice by the app to the container.
 If the port of the socket address has a non-zero value, the container
 will make a best-effort attempt to use it as the source port number
 for UDP packets, or as a source port number for TCP connections it
 originates. If the port is not available, the container will use
 its default port allocation scheme.  
 <p>Invocation of this method also impacts the system headers
 generated by the container for this ProxyBranch, such as the
 <code>Record-Route</code> header (<a href="../../../javax/servlet/sip/ProxyBranch.html#getRecordRouteURI()"><code>getRecordRouteURI()</code></a>),
 the <code>Via</code> and the <code>Contact</code> header.
 The IP address part of the socket <code>address</code> is used to construct
 these system headers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>address</code> - the socket address representing the outbound interface to use when
             forwarding requests with this proxy branch</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <code>address</code> is not understood
                                  by the container as one of its outbound interface</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - on null <code>address</code></dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="setFlow(javax.servlet.sip.Flow)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFlow</h4>
<pre>void&nbsp;setFlow(<a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip">Flow</a>&nbsp;flow)</pre>
<div class="block">Indicate that the specified flow be used while sending messages on this
 <code>ProxyBranch</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>flow</code> - <code>Flow</code> instance to be used while sending the messages.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <code>Flow</code> does not exist or the
         transport association represented by the flow is broken or not known
         to the container.</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip"><code>Flow</code></a></dd></dl>
</li>
</ul>
<a name="getFlow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFlow</h4>
<pre><a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip">Flow</a>&nbsp;getFlow()</pre>
<div class="block">Returns the flow used for sending or receiving messages
 on this <code>ProxyBranch</code>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>Flow</code> Returns the instance flow that is used for sending or
 receiving the messages. Null, if there is no flow as per RFC 5626 is associated
 with this ProxyBranch.</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip"><code>Flow</code></a></dd></dl>
</li>
</ul>
<a name="setOutboundInterface(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOutboundInterface</h4>
<pre>void&nbsp;setOutboundInterface(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;address)</pre>
<div class="block">In multi-homed environment this method can be used to select
 the outbound interface to use when sending requests for this
 proxy branch.
 The specified address must be the address of one of the configured
 outbound interfaces. The set of SipURI objects which represent the
 supported outbound interfaces can be obtained from the servlet context
 attributes named <code>javax.servlet.sip.outboundAddresses</code> and
 <code>javax.servlet.sip.outboundInterfaces</code>.
 <p>Invocation of this method also impacts the system headers
 generated by the container for the branch, such as the
 <code>Record-Route</code> header (<a href="../../../javax/servlet/sip/ProxyBranch.html#getRecordRouteURI()"><code>getRecordRouteURI()</code></a>)
 and the <code>Via</code>. The supplied IP address is used to construct
 these system headers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>address</code> - the address which represents the outbound interface</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this method is called on an invalidated session</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <code>address</code> does not
                                  represent one of the container's outbound interfaces</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - on null <code>address</code></dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="getResponse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResponse</h4>
<pre><a href="../../../javax/servlet/sip/SipServletResponse.html" title="interface in javax.servlet.sip">SipServletResponse</a>&nbsp;getResponse()</pre>
<div class="block">Returns the <em>last</em> response received on this branch.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the last <code>SipServletResponse</code> received, or null if
    no response has been received so far.</dd></dl>
</li>
</ul>
<a name="isStarted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStarted</h4>
<pre>boolean&nbsp;isStarted()</pre>
<div class="block">The branch can be created using <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>Proxy.createProxyBranches(java.util.List)</code></a> and may be
 started at a later time by using <a href="../../../javax/servlet/sip/Proxy.html#startProxy()"><code>Proxy.startProxy()</code></a>. This method tells if the given 
 branch has been started yet or not. The branches created as a result of <code>proxyTo</code> 
 are always started on creation.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>whether the branch has been started or not</dd></dl>
</li>
</ul>
<a name="getRecursedProxyBranches()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecursedProxyBranches</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</a>&gt;&nbsp;getRecursedProxyBranches()</pre>
<div class="block">Receipt of a 3xx class redirect response on a branch can result in recursed branches
 if the proxy or the branch has recursion enabled. This can result in several levels of 
 recursed branches in a tree like fashion. This method returns the top level branches
 directly below this <code>ProxyBranch</code></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the top level branches below this ProxyBranch</dd></dl>
</li>
</ul>
<a name="getProxy()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getProxy</h4>
<pre><a href="../../../javax/servlet/sip/Proxy.html" title="interface in javax.servlet.sip">Proxy</a>&nbsp;getProxy()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the associated proxy with this branch</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ProxyBranch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javax/servlet/sip/Proxy.html" title="interface in javax.servlet.sip"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javax/servlet/sip/ProxyBranch.Callback.html" title="interface in javax.servlet.sip"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javax/servlet/sip/ProxyBranch.html" target="_top">Frames</a></li>
<li><a href="ProxyBranch.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright © 1996-2015, Oracle and/or its affiliates. All Rights Reserved. Use is subject to license terms.</small></p>
</body>
</html>
