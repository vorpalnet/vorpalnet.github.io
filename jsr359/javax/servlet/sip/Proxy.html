<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Apr 06 22:51:34 PDT 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Proxy (SIP Servlet API 2.0 API)</title>
<meta name="date" content="2015-04-06">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Proxy (SIP Servlet API 2.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Proxy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javax/servlet/sip/Predicate.html" title="interface in javax.servlet.sip"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javax/servlet/sip/Proxy.html" target="_top">Frames</a></li>
<li><a href="Proxy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">javax.servlet.sip</div>
<h2 title="Interface Proxy" class="title">Interface Proxy</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">Proxy</span></pre>
<div class="block">Represents the operation of proxying a SIP request.
 
 <p>A number of parameters control how proxying is carried out:
 <dl>
 <dt><b>addToPath</b>:
 <dd> addToPath: Whether the application adds a Path header to the REGISTER request. The default is false.
 <dt><b>recurse</b>: 
 <dd>Whether to autmotically recurse or not. The default is true.
 
 <dt><b>recordRoute</b>: 
 <dd>Whether to record-route or not. The default is false.
 
 <dt><b>parallel</b>: 
 <dd>Whether to proxy in parallel or sequentially. The default is true.
 
 <dt><b>stateful</b>: 
 <dd>Whether to remain transaction stateful for the duration of the
     proxying operation. The default is true.
 
 <dt><b>supervised</b>: 
 <dd>Whether the application will be invoked on incoming responses related to this proxying.
 
 <dt><b>proxyTimeout</b>: 
 <dd>The timeout for the proxy in general. In case the proxy is a sequential proxy
 then this value behaves like the sequential-search-timeout
 which is deprecated since v1.1. In case the proxy is a parallel proxy then this timeout acts as 
 the timeout for the entire proxy i.e each of its parallel branches before it starts
 to send out CANCELs waiting for final responses on all INVITE branches and sends the 
 best final response upstream.  
 
 <dt><b>sequentialSearchTimeout</b>:
 <dd>The time the container waits for a final response before it CANCELs
 the branch and proxies to the next destination in the target set. The usage of 
 this explicit sequential timeout setting is <b>deprecated</b> and replaced by a general 
 <code>proxyTimeout</code> parameter. 
 </dl>
 
 The effect of the various parameters is explained further below.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#cancel()">cancel</a></strong>()</code>
<div class="block">Cancels this proxy transaction and any of its child branches if recursion 
 was enabled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#cancel(java.lang.String[], int[], java.lang.String[])">cancel</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;protocol,
      int[]&nbsp;reasonCode,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;reasonText)</code>
<div class="block">This overloaded method of <a href="../../../javax/servlet/sip/Proxy.html#cancel()"><code>cancel()</code></a> provides a way to specify the
 reason for cancelling this <code>Proxy</code> by including the appropriate
 Reason headers [RFC 3326].</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)">createProxyBranches</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;? extends <a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</a>&gt;&nbsp;targets)</code>
<div class="block">Returns the list of <a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><code>ProxyBranch</code></a> objects given a set of targets.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getAddToPath()">getAddToPath</a></strong>()</code>
<div class="block">Returns true if subsequent invocations of <a href="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)"><code>proxyTo(URI)</code></a> or <a href="../../../javax/servlet/sip/Proxy.html#startProxy()"><code>startProxy()</code></a> will add a Path header
 to the proxied request, false otherwise.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip">Flow</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getFlow()">getFlow</a></strong>()</code>
<div class="block">Returns the flow used for sending or receiving messages
 on this <code>Proxy</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getNoCancel()">getNoCancel</a></strong>()</code>
<div class="block">Returns <code>true</code> if the proxy will not cancel outstanding
 branches and allow creation of new branches upon receiving the first
 2xx INVITE response as in RFC 3841</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/SipServletRequest.html" title="interface in javax.servlet.sip">SipServletRequest</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getOriginalRequest()">getOriginalRequest</a></strong>()</code>
<div class="block">Returns the request received from the upstream caller.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getParallel()">getParallel</a></strong>()</code>
<div class="block">Returns true if this proxy object is set to proxy in parallel, or
 false if it is set to proxy sequentially.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getPathURI()">getPathURI</a></strong>()</code>
<div class="block">Returns a <code>SipURI</code> that the application can use to
 add parameters to the Path header.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getProxyBranch(javax.servlet.sip.URI)">getProxyBranch</a></strong>(<a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</a>&nbsp;uri)</code>
<div class="block">Any branch has a primary URI associated with it, using which it was
 created.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getProxyBranches()">getProxyBranches</a></strong>()</code>
<div class="block">More than one branches are associated with a proxy when <a href="../../../javax/servlet/sip/Proxy.html#proxyTo(java.util.List)"><code>proxyTo(List)</code></a> or <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>createProxyBranches(List)</code></a>
 is used.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getProxyTimeout()">getProxyTimeout</a></strong>()</code>
<div class="block">The current value of the overall proxy timeout value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getRecordRoute()">getRecordRoute</a></strong>()</code>
<div class="block">Returns true if subsequent invocations of <a href="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)"><code>proxyTo(URI)</code></a>
 will add a Record-Route header to the proxied request, false otherwise.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getRecordRouteURI()">getRecordRouteURI</a></strong>()</code>
<div class="block">Returns a <code>SipURI</code> that the application can use to
 add parameters to the Record-Route header.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getRecurse()">getRecurse</a></strong>()</code>
<div class="block">Returns true if this proxy object is set to recurse, or false otherwise.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getSequentialSearchTimeout()">getSequentialSearchTimeout</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>use a more general purpose <a href="../../../javax/servlet/sip/Proxy.html#getProxyTimeout()"><code>getProxyTimeout()</code></a></i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getStateful()">getStateful</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>stateless proxy is no longer supported</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#getSupervised()">getSupervised</a></strong>()</code>
<div class="block">Returns true if the controlling servlet will be invoked on incoming
 responses for this proxying operation, and false otherwise.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#proxyTo(java.util.List)">proxyTo</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;? extends <a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</a>&gt;&nbsp;uris)</code>
<div class="block">Proxies a SIP request to the specified set of destinations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)">proxyTo</a></strong>(<a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</a>&nbsp;uri)</code>
<div class="block">Proxies a SIP request to the specified destination.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setAddToPath(boolean)">setAddToPath</a></strong>(boolean&nbsp;p)</code>
<div class="block">Specifies whether branches initiated in this proxy operation should
 include a Path header for the REGISTER request for this servlet
 container or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setFlow(javax.servlet.sip.Flow)">setFlow</a></strong>(<a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip">Flow</a>&nbsp;flow)</code>
<div class="block">Indicate that the specified flow be used while sending messages on this
 <code>Proxy</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setNoCancel(boolean)">setNoCancel</a></strong>(boolean&nbsp;noCancel)</code>
<div class="block">Specifies whether the proxy should, or should not cancel outstanding
 branches upon receiving the first 2xx INVITE response as defined
 in RFC 3841.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setOutboundInterface(java.net.InetAddress)">setOutboundInterface</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;address)</code>
<div class="block">In multi-homed environment this method can be used to select
 the outbound interface to use when sending requests for proxy branches.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setOutboundInterface(java.net.InetSocketAddress)">setOutboundInterface</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;address)</code>
<div class="block">In multi-homed environment this method can be used to select
 the outbound interface and port number to use for proxy branches.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setParallel(boolean)">setParallel</a></strong>(boolean&nbsp;parallel)</code>
<div class="block">Specifies whether to proxy in parallel or sequentially.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setProxyTimeout(int)">setProxyTimeout</a></strong>(int&nbsp;seconds)</code>
<div class="block">Sets the overall proxy timeout.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setRecordRoute(boolean)">setRecordRoute</a></strong>(boolean&nbsp;rr)</code>
<div class="block">Specifies whether branches initiated in this proxy operation should
 include a Record-Route header for this servlet engine or not.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setRecurse(boolean)">setRecurse</a></strong>(boolean&nbsp;recurse)</code>
<div class="block">Specifies whether the servlet engine will automatically recurse or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setSequentialSearchTimeout(int)">setSequentialSearchTimeout</a></strong>(int&nbsp;seconds)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>use a more general purpose <a href="../../../javax/servlet/sip/Proxy.html#setProxyTimeout(int)"><code>setProxyTimeout(int)</code></a></i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setStateful(boolean)">setStateful</a></strong>(boolean&nbsp;stateful)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>stateless proxy is no longer supported</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#setSupervised(boolean)">setSupervised</a></strong>(boolean&nbsp;supervised)</code>
<div class="block">Specifies whether the controlling servlet is to be invoked for
 incoming responses relating to this proxying.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#startProxy()">startProxy</a></strong>()</code>
<div class="block">Proxies a SIP request to the set of destinations previously specified
 in <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>createProxyBranches(java.util.List&lt;? extends javax.servlet.sip.URI&gt;)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/servlet/sip/Proxy.html#startProxy(javax.servlet.sip.ProxyBranch.Callback)">startProxy</a></strong>(<a href="../../../javax/servlet/sip/ProxyBranch.Callback.html" title="interface in javax.servlet.sip">ProxyBranch.Callback</a>&nbsp;timeoutCallback)</code>
<div class="block">Proxies a SIP request to the set of destinations previously specified
 in <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>createProxyBranches(java.util.List&lt;? extends javax.servlet.sip.URI&gt;)</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getOriginalRequest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOriginalRequest</h4>
<pre><a href="../../../javax/servlet/sip/SipServletRequest.html" title="interface in javax.servlet.sip">SipServletRequest</a>&nbsp;getOriginalRequest()</pre>
<div class="block">Returns the request received from the upstream caller.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>object representing the incoming request that was proxied</dd></dl>
</li>
</ul>
<a name="proxyTo(javax.servlet.sip.URI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>proxyTo</h4>
<pre>void&nbsp;proxyTo(<a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</a>&nbsp;uri)</pre>
<div class="block">Proxies a SIP request to the specified destination.
 
 <p>Implementations are required to support <code>SipURI</code>
 arguments and may support other types of URIs.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uri</code> - specifies the destination to proxy to</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../javax/servlet/sip/InsufficientBreadthException.html" title="class in javax.servlet.sip">InsufficientBreadthException</a></code> - If the sum of Max-Breadth of active
         parallel branches exceed the Max-Breadth of original incoming request.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the transaction has already completed.
         Also, during and after application is invoked to
         handle the best final response for 6xx responses or 2xx responses
         when proxy is not configured with setNoCancel(true)</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - e.g. if the scheme of the specified
      URI is not supported for proxying</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the uri is null</dd></dl>
</li>
</ul>
<a name="proxyTo(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>proxyTo</h4>
<pre>void&nbsp;proxyTo(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;? extends <a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</a>&gt;&nbsp;uris)</pre>
<div class="block">Proxies a SIP request to the specified set of destinations.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uris</code> - a list of <a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip"><code>URI</code></a> objects to proxy to</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../javax/servlet/sip/InsufficientBreadthException.html" title="class in javax.servlet.sip">InsufficientBreadthException</a></code> - If the sum of Max-Breadth of active
         parallel branches exceed the Max-Breadth of original incoming request.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the transaction has already completed.
         Also, during and after application is invoked to
         handle the best final response for 6xx responses or 2xx responses
         when proxy is not configured with setNoCancel(true)</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if any of the destination URIs
         contains a scheme that is not supported for proxying</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if any of the URI in the List is null.</dd></dl>
</li>
</ul>
<a name="cancel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>void&nbsp;cancel()</pre>
<div class="block">Cancels this proxy transaction and any of its child branches if recursion 
 was enabled.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the transaction has completed</dd></dl>
</li>
</ul>
<a name="cancel(java.lang.String[], int[], java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>void&nbsp;cancel(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;protocol,
          int[]&nbsp;reasonCode,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;reasonText)</pre>
<div class="block">This overloaded method of <a href="../../../javax/servlet/sip/Proxy.html#cancel()"><code>cancel()</code></a> provides a way to specify the
 reason for cancelling this <code>Proxy</code> by including the appropriate
 Reason headers [RFC 3326].</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>protocol</code> - describes the source of the 'cause' field in the Reason header field.</dd><dd><code>reasonCode</code> - corresponds to the 'cause' field. For eg, if protocol is SIP, the reasonCode
 would be the status code of the response which caused the cancel</dd><dd><code>reasonText</code> - describes the reason for cancelling the <code>Proxy</code>.</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="getRecurse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecurse</h4>
<pre>boolean&nbsp;getRecurse()</pre>
<div class="block">Returns true if this proxy object is set to recurse, or false otherwise.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if proxying is enabled, false otherwise</dd></dl>
</li>
</ul>
<a name="setRecurse(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRecurse</h4>
<pre>void&nbsp;setRecurse(boolean&nbsp;recurse)</pre>
<div class="block">Specifies whether the servlet engine will automatically recurse or not.
 If recursion is enabled the servlet engine will automatically attempt
 to proxy to contact addresses received in redirect (3xx) responses.
 If recursion is disabled and no better response is received, a redirect
 response will be passed to the application and will be passed upstream
 towards the client.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>recurse</code> - if true enables recursion, otherwise disables it</dd></dl>
</li>
</ul>
<a name="getRecordRoute()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordRoute</h4>
<pre>boolean&nbsp;getRecordRoute()</pre>
<div class="block">Returns true if subsequent invocations of <a href="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)"><code>proxyTo(URI)</code></a>
 will add a Record-Route header to the proxied request, false otherwise.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>value of the "recordroute" flag</dd></dl>
</li>
</ul>
<a name="setRecordRoute(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRecordRoute</h4>
<pre>void&nbsp;setRecordRoute(boolean&nbsp;rr)</pre>
<div class="block">Specifies whether branches initiated in this proxy operation should
 include a Record-Route header for this servlet engine or not. This shall
 affect all the branches created after its invocation.
 
 <p>Record-routing is used to specify that this servlet engine must
 stay on the signaling path of subsequent requests.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rr</code> - if true the engine will record-route, otherwise it won't</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the proxy has already been started</dd></dl>
</li>
</ul>
<a name="getParallel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParallel</h4>
<pre>boolean&nbsp;getParallel()</pre>
<div class="block">Returns true if this proxy object is set to proxy in parallel, or
 false if it is set to proxy sequentially.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>value of the "parallel" flag</dd></dl>
</li>
</ul>
<a name="setParallel(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setParallel</h4>
<pre>void&nbsp;setParallel(boolean&nbsp;parallel)</pre>
<div class="block">Specifies whether to proxy in parallel or sequentially.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>parallel</code> - if true the servlet engine will proxy to all
      destinations in parallel, otherwise it will proxy to one at a time</dd></dl>
</li>
</ul>
<a name="getStateful()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStateful</h4>
<pre>boolean&nbsp;getStateful()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>stateless proxy is no longer supported</i></div>
<div class="block">Returns true if this proxy operation is transaction stateful
 (the default), or false if it is stateless.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>always returns <code>true</code></dd></dl>
</li>
</ul>
<a name="setStateful(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStateful</h4>
<pre>void&nbsp;setStateful(boolean&nbsp;stateful)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>stateless proxy is no longer supported</i></div>
<div class="block">Specifies whether the server should proxy statelessly or not,
 that is whether it should maintain transaction state whilst the
 proxying operation is in progress.
 
 <p>This proxy parameter is a hint only. Implementations may
 choose to maintain transaction state regardless of the value of
 this flag, but if so the application will not be invoked again
 for this transaction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>stateful</code> - if true the proxy operation will be stateful</dd></dl>
</li>
</ul>
<a name="getSupervised()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSupervised</h4>
<pre>boolean&nbsp;getSupervised()</pre>
<div class="block">Returns true if the controlling servlet will be invoked on incoming
 responses for this proxying operation, and false otherwise.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the application will be invoked for responses,
      and false if not</dd></dl>
</li>
</ul>
<a name="setSupervised(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSupervised</h4>
<pre>void&nbsp;setSupervised(boolean&nbsp;supervised)</pre>
<div class="block">Specifies whether the controlling servlet is to be invoked for
 incoming responses relating to this proxying.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>supervised</code> - if true, the servlet invoked to handle the request
      originally received will be notified when the "best" response
      is received.</dd></dl>
</li>
</ul>
<a name="getProxyTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProxyTimeout</h4>
<pre>int&nbsp;getProxyTimeout()</pre>
<div class="block">The current value of the overall proxy timeout value. 
 This is measured in seconds.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>current value of proxy timeout in seconds.</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="getSequentialSearchTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSequentialSearchTimeout</h4>
<pre>int&nbsp;getSequentialSearchTimeout()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>use a more general purpose <a href="../../../javax/servlet/sip/Proxy.html#getProxyTimeout()"><code>getProxyTimeout()</code></a></i></div>
<div class="block">Returns the current value of the sequential search timeout parameter.
 This is measured in seconds.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>current value of the sequential search timeout parameter</dd></dl>
</li>
</ul>
<a name="setProxyTimeout(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setProxyTimeout</h4>
<pre>void&nbsp;setProxyTimeout(int&nbsp;seconds)</pre>
<div class="block">Sets the overall proxy timeout. If this proxy is a sequential
 proxy then the behavior is same as the erstwhile <a href="../../../javax/servlet/sip/Proxy.html#setSequentialSearchTimeout(int)"><code>setSequentialSearchTimeout(int)</code></a>. 
 Further the value set through this method shall override any explicit 
 sequential value set through deprecated <a href="../../../javax/servlet/sip/Proxy.html#setSequentialSearchTimeout(int)"><code>setSequentialSearchTimeout(int)</code></a>.
 On the other hand if the proxy is parallel then this acts as the upper limit  
 for the entire proxy operation resulting in equivalent of invoking <a href="../../../javax/servlet/sip/Proxy.html#cancel()"><code>cancel()</code></a> if the 
 the proxy did not complete during this time, which means that a final response was not 
 sent upstream.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>seconds</code> - seconds waited for each branch in case proxy is sequential and
                overall wait for parallel proxy.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the container cannot set the value as requested because it is too high, too low or negative</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="setSequentialSearchTimeout(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSequentialSearchTimeout</h4>
<pre>void&nbsp;setSequentialSearchTimeout(int&nbsp;seconds)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>use a more general purpose <a href="../../../javax/servlet/sip/Proxy.html#setProxyTimeout(int)"><code>setProxyTimeout(int)</code></a></i></div>
<div class="block">Sets the sequential search timeout value for this
 <code>Proxy</code> object. This is the amount of time the
 container waits for a final response when proxying
 sequentially. When the timer expires the container CANCELs the
 current branch and proxies to the next element in the target
 set.
 
 <p>The container is free to ignore this parameter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>seconds</code> - seconds waited for a final responses when proxying
     sequentially</dd></dl>
</li>
</ul>
<a name="getRecordRouteURI()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordRouteURI</h4>
<pre><a href="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</a>&nbsp;getRecordRouteURI()</pre>
<div class="block">Returns a <code>SipURI</code> that the application can use to
 add parameters to the Record-Route header. This is used by
 record-routing proxy applications in order to push state to the
 endpoints and have it returned in subsequent requests belonging
 to the same dialog.
 
 <p>Parameters added through a URI returned by this method can
 be retrieved from a subsequent request in the same dialog by
 calling <code>ServletRequest.getParameter(java.lang.String)</code>.
 
 <p>Note that the URI returned is good <em>only</em> for
 specifying a set of parameters that the application can
 retrieve when invoked to handle subsequent requests in the same
 dialog. Other components of the URI are irrelevant and cannot
 be trusted to reflect the actual values that the container will
 be using when inserting a Record-Route header into proxied
 request.

 <p>Applications must not set SIP URI parameters defined in RFC3261.
 This includes transport, user, method, ttl, maddr, and lr. Other
 components of the URI, e.g. host, port, and URI scheme must also not
 by modified by the application. These Record-Route URI components will
 be populated by the container and may or may not have valid values at
 the time an application proxies a request. Any attempt to set these
 parameters or URI contents will thrown an IllegalArgumentException.
 
 Record Route parameters thus added affect the branches created right after.
 If there are branches that were created prior to this modification then they
 MUST continue to have the Record-Route header as was when they were created.
 This means that the <a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><code>ProxyBranch</code></a> gets a cloned copy of the header.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>SIP URI whose parameters can be modified and then retrieved
     by this application when processing subsequent requests in the
     same SIP dialog</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if record-routing is not enabled</dd></dl>
</li>
</ul>
<a name="createProxyBranches(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createProxyBranches</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</a>&gt;&nbsp;createProxyBranches(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;? extends <a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</a>&gt;&nbsp;targets)</pre>
<div class="block">Returns the list of <a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><code>ProxyBranch</code></a> objects given a set of targets.

 The resulting branches will not have associated client transactions
 until <a href="../../../javax/servlet/sip/Proxy.html#startProxy()"><code>startProxy()</code></a> is invoked.

 <p>Implementations are required to support <code>SipURI</code>
 arguments and may support other types of URIs.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targets</code> - a list of <a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip"><code>URI</code></a> objects to proxy to</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if any of the destination URIs
         contains a scheme that is not supported for proxying</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the transaction has already completed.
         Also during and after application is invoked to
         handle the best final response for 6xx responses or 2xx responses
         when proxy is not configured with setNoCancel(true)</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="getProxyBranch(javax.servlet.sip.URI)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProxyBranch</h4>
<pre><a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</a>&nbsp;getProxyBranch(<a href="../../../javax/servlet/sip/URI.html" title="interface in javax.servlet.sip">URI</a>&nbsp;uri)</pre>
<div class="block">Any branch has a primary URI associated with it, using which it was
 created. The ProxyBranch may have been created using <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>createProxyBranches(List)</code></a> 
 method, implicitly when <code>proxyTo()</code> is called or when any of the proxy branch recurses
 as a result of a redirect response. A URI uniquely identifies a branch.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uri</code> - URI using which the ProxyBranch may have been created</dd>
<dt><span class="strong">Returns:</span></dt><dd>ProxyBranch associated with the uri</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="getProxyBranches()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProxyBranches</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip">ProxyBranch</a>&gt;&nbsp;getProxyBranches()</pre>
<div class="block">More than one branches are associated with a proxy when <a href="../../../javax/servlet/sip/Proxy.html#proxyTo(java.util.List)"><code>proxyTo(List)</code></a> or <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>createProxyBranches(List)</code></a>
 is used. This method returns the <b>top</b> level branches thus created. If recursion is enabled on 
 proxy or on any of its branches then on receipt of a 3xx class response on that branch, the branch may recurse into sub-branches. This method 
 returns just the top level branches started.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>all the the top level branches associated with this proxy</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="startProxy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startProxy</h4>
<pre>void&nbsp;startProxy()</pre>
<div class="block">Proxies a SIP request to the set of destinations previously specified
 in <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>createProxyBranches(java.util.List&lt;? extends javax.servlet.sip.URI&gt;)</code></a>. This method will actually start
 the proxy branches and their associated client transactions.

 For example,
 <pre>
   List<ProxyBranch> branches = proxy.createProxyBranches(targets);
   proxy.startProxy();
 </pre>
 is essentially equivalent to <code>Proxy.proxyTo(targets)</code>,
 with the former giving the application finer control over the
 individual proxy branches through the <a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><code>ProxyBranch</code></a> class. Since the 
 <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>createProxyBranches(List)</code></a> can be invoked multiple times before
 the <code>startProxy</code> method the effect of <code>startProxy</code> is 
 to start all the branches added in the target set.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../javax/servlet/sip/InsufficientBreadthException.html" title="class in javax.servlet.sip">InsufficientBreadthException</a></code> - If the sum of Max-Breadth of active
         parallel branches exceed the Max-Breadth of original incoming request.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the branches have not yet been created
         or the proxy is already completed (final response sent upstream).
         Also, during and after application is invoked to
         handle the best final response for 6xx responses or 2xx responses
         when proxy is not configured with setNoCancel(true)</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="startProxy(javax.servlet.sip.ProxyBranch.Callback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startProxy</h4>
<pre>void&nbsp;startProxy(<a href="../../../javax/servlet/sip/ProxyBranch.Callback.html" title="interface in javax.servlet.sip">ProxyBranch.Callback</a>&nbsp;timeoutCallback)</pre>
<div class="block">Proxies a SIP request to the set of destinations previously specified
 in <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>createProxyBranches(java.util.List&lt;? extends javax.servlet.sip.URI&gt;)</code></a>. This method will actually start
 the proxy branches and their associated client transactions.

 For example,
 <pre>
   List<ProxyBranch> branches = proxy.createProxyBranches(targets);
   proxy.startProxy();
 </pre>
 is essentially equivalent to <code>Proxy.proxyTo(targets)</code>,
 with the former giving the application finer control over the
 individual proxy branches through the <a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><code>ProxyBranch</code></a> class. Since the
 <a href="../../../javax/servlet/sip/Proxy.html#createProxyBranches(java.util.List)"><code>createProxyBranches(List)</code></a> can be invoked multiple times before
 the <code>startProxy</code> method the effect of <code>startProxy</code> is
 to start all the branches added in the target set.

 When the proxy branch times out, container will use the implementation of
 <code>ProxyBranch.Callback</code> passed as the argument to call back the application.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeoutCallback</code> - In case of a timeout, this callback will be invoked for
                        each ProxyBranch.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../javax/servlet/sip/InsufficientBreadthException.html" title="class in javax.servlet.sip">InsufficientBreadthException</a></code> - If the sum of Max-Breadth of active
         parallel branches exceed the Max-Breadth of original incoming request.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the branches have not yet been created
         or the proxy is already completed (final response sent upstream).
         Also, during and after application is invoked to
         handle the best final response for 6xx responses or 2xx responses
         when proxy is not configured with setNoCancel(true)</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd></dl>
</li>
</ul>
<a name="setOutboundInterface(java.net.InetSocketAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOutboundInterface</h4>
<pre>void&nbsp;setOutboundInterface(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;address)</pre>
<div class="block">In multi-homed environment this method can be used to select
 the outbound interface and port number to use for proxy branches.
 The specified address must be the address of one of the configured
 outbound interfaces. The set of SipURI objects which represent the
 supported outbound interfaces can be obtained from the servlet context
 attributes named <code>javax.servlet.sip.outboundAddresses</code> and
 <code>javax.servlet.sip.outboundInterfaces</code>.

 <p>The port is interpreted as an advice by the app to the container.
 If the port of the socket address has a non-zero value, the container
 will make a best-effort attempt to use it as the source port number
 for UDP packets, or as a source port number for TCP connections it
 originates. If the port is not available, the container will use
 its default port allocation scheme.
 <p>Invocation of this method also impacts the system headers
 generated by the container for this Proxy, such as the
 <code>Record-Route</code> header (<a href="../../../javax/servlet/sip/Proxy.html#getRecordRouteURI()"><code>getRecordRouteURI()</code></a>),
 the <code>Via</code> and the <code>Contact</code> header.
 The IP address part of the socket <code>address</code> is used to construct
 these system headers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>address</code> - the socket address representing the outbound interface to use when
             forwarding requests with this proxy</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <code>address</code> is not understood
                                  by the container as one of its outbound interface</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - on null <code>address</code></dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="setOutboundInterface(java.net.InetAddress)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOutboundInterface</h4>
<pre>void&nbsp;setOutboundInterface(<a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;address)</pre>
<div class="block">In multi-homed environment this method can be used to select
 the outbound interface to use when sending requests for proxy branches.
 The specified address must be the address of one of the configured
 outbound interfaces. The set of SipURI objects which represent the
 supported outbound interfaces can be obtained from the servlet context
 attributes named <code>javax.servlet.sip.outboundAddresses</code> and
 <code>javax.servlet.sip.outboundInterfaces</code>.
 <p>Invocation of this method also impacts the system headers
 generated by the container for the branches, such as the
 <code>Record-Route</code> header (<a href="../../../javax/servlet/sip/Proxy.html#getRecordRouteURI()"><code>getRecordRouteURI()</code></a>) and
 the <code>Via</code>. The specified IP address is used to construct
 these system headers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>address</code> - the address which represents the outbound interface</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this method is called on an invalidated session</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <code>address</code> does not
                                  represent one of the container's outbound interfaces</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - on null <code>address</code></dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="setFlow(javax.servlet.sip.Flow)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFlow</h4>
<pre>void&nbsp;setFlow(<a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip">Flow</a>&nbsp;flow)</pre>
<div class="block">Indicate that the specified flow be used while sending messages on this
 <code>Proxy</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>flow</code> - <code>Flow</code> instance to be used while sending the messages.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the <code>Flow</code> does not exist or the
         transport association represented by the flow is broken or not known
         to the container.</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip"><code>Flow</code></a></dd></dl>
</li>
</ul>
<a name="getFlow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFlow</h4>
<pre><a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip">Flow</a>&nbsp;getFlow()</pre>
<div class="block">Returns the flow used for sending or receiving messages
 on this <code>Proxy</code>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>Flow</code> Returns the instance flow that is used for sending or
 receiving the messages. Null, if there is no flow as per RFC 5626 is associated
 with this proxy.</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/servlet/sip/Flow.html" title="interface in javax.servlet.sip"><code>Flow</code></a></dd></dl>
</li>
</ul>
<a name="getAddToPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddToPath</h4>
<pre>boolean&nbsp;getAddToPath()</pre>
<div class="block">Returns true if subsequent invocations of <a href="../../../javax/servlet/sip/Proxy.html#proxyTo(javax.servlet.sip.URI)"><code>proxyTo(URI)</code></a> or <a href="../../../javax/servlet/sip/Proxy.html#startProxy()"><code>startProxy()</code></a> will add a Path header
 to the proxied request, false otherwise.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>value of the "addToPath" flag</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="setAddToPath(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAddToPath</h4>
<pre>void&nbsp;setAddToPath(boolean&nbsp;p)</pre>
<div class="block">Specifies whether branches initiated in this proxy operation should
 include a Path header for the REGISTER request for this servlet
 container or not. The Path header field for the container should be
 on top of any application pushed Path header fields (pushed using the 
 <code>SipServletRequest.pushPath()</code> API).

 <p>Path header is used to specify that this Proxy must
 stay on the signaling path of subsequent requests sent to the
 Registered UA from the Home Proxy in the network. As a best practice,
 before calling this method a proxy should check if the UA has indicated
 support for the Path extension by checking the Supported header field
 value in the request being proxied. The detailed procedure of Path header
 handling is defined in RFC 3327.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - if true the container will add Path header</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="getPathURI()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPathURI</h4>
<pre><a href="../../../javax/servlet/sip/SipURI.html" title="interface in javax.servlet.sip">SipURI</a>&nbsp;getPathURI()</pre>
<div class="block">Returns a <code>SipURI</code> that the application can use to
 add parameters to the Path header. This may be used by
 Path header adding proxy applications in order to push state to the
 Registrar and have it returned in subsequent requests for the
 registered UA.

 <p>Parameters added through a URI returned by this method can
 be retrieved from a subsequent request in the same dialog by
 calling <code>ServletRequest.getParameter(java.lang.String)</code>.

 <p>Note that the URI returned is good <em>only</em> for
 specifying a set of parameters that the application can
 retrieve when invoked to handle subsequent requests
 Other components of the URI are irrelevant and cannot
 be trusted to reflect the actual values that the container will
 be using when inserting a Path header into proxied
 request.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>SIP URI whose parameters can be modified and then retrieved
     by this application when processing subsequent requests for the
     UA</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if addToPath is not enabled</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="setNoCancel(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNoCancel</h4>
<pre>void&nbsp;setNoCancel(boolean&nbsp;noCancel)</pre>
<div class="block">Specifies whether the proxy should, or should not cancel outstanding
 branches upon receiving the first 2xx INVITE response as defined
 in RFC 3841.
 <p>The default proxy behavior, as per RFC 3261 section 16.7 point 10,
 is to cancel outstanding branches upon receiving the first 2xx response;
 this method allows configuring the proxy to keep the branches and
 forward all 2xx responses upstream.
 <p>Default is <code>false</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>noCancel</code> - when true, the proxy will not cancel outstanding branches
        upon receiving the first 2xx response, and will allow creation of new
        branches.</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
<a name="getNoCancel()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getNoCancel</h4>
<pre>boolean&nbsp;getNoCancel()</pre>
<div class="block">Returns <code>true</code> if the proxy will not cancel outstanding
 branches and allow creation of new branches upon receiving the first
 2xx INVITE response as in RFC 3841</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the proxy will not cancel outstanding
         branches and allow creation of new branches upon receiving
         the first 2xx response,
         <code>false</code> otherwise</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Proxy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javax/servlet/sip/Predicate.html" title="interface in javax.servlet.sip"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javax/servlet/sip/ProxyBranch.html" title="interface in javax.servlet.sip"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javax/servlet/sip/Proxy.html" target="_top">Frames</a></li>
<li><a href="Proxy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright  1996-2015, Oracle and/or its affiliates. All Rights Reserved. Use is subject to license terms.</small></p>
</body>
</html>
